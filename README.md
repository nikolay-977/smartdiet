### **1. Актуальность и проблема**

В современном мире, с ростом интереса к здоровому образу жизни, осознанному питанию и спорту, все больше людей сталкиваются с необходимостью контроля своего рациона. Однако существующие приложения часто ограничиваются подсчетом калорий и БЖУ (белков, жиров, углеводов), игнорируя такие важные аспекты, как баланс витаминов и микроэлементов. Пользователю сложно самостоятельно составить сбалансированный рацион, учитывающий его индивидуальные нормы и пищевые предпочтения/ограничения.

**Проблема:** Отсутствие удобных и доступных инструментов, которые не только ведут учет потребляемой пищи, но и предоставляют интеллектуальные рекомендации по ее оптимизации с учетом комплексных nutritional needs (потребностей в питательных веществах).

### **2. Цель и задачи работы**

**Цель работы:** Разработать кроссплатформенную приложение, которое предоставляет персонализированные рекомендации по продуктам для достижения пользователем заданных nutritional-целей.

**Задачи для достижения цели:**

1.  Провести анализ предметной области и существующих аналогов.
2.  Разработать архитектуру системы, включая backend, web-интерфейс и мобильное приложение.
3.  Реализовать backend-часть на Kotlin с использованием Spring Boot и Thymeleaf.
4.  Разработать алгоритмы для двух основных сценариев рекомендаций:
    *   Рекомендация отдельных продуктов для восполнения дефицита микроэлементов.
    *   Генерация сбалансированных наборов продуктов на день.
5.  Интегрировать функционал распознавания продуктов по штрихкоду.
6.  Реализовать AI-ассистента для ответов на вопросы пользователя в контексте питания.
7.  Реализовать механизмы учета пользовательских предпочтений (любимые продукты, стоп-лист).
8.  Провести тестирование системы и оценить ее работоспособность.

### **3. Обзор предметной области и аналоги**

Были проанализированы популярные приложения: MyFitnessPal, FatSecret, Yazio.
**Выявленные недостатки аналогов:**
*   Акцент на калориях и БЖУ, скудный анализ витаминов и минералов.
*   Рекомендации носят общий характер, не персонализированы под дефицит конкретных микроэлементов.
*   Отсутствие функции генерации готовых вариантов рациона на день на основе комплексных норм.

**Преимущества предлагаемого решения:**
*   Глубокий учет микроэлементов и витаминов.
*   Уникальные алгоритмы рекомендаций, основанные на приоритете восполнения дефицита.
*   Высокая степень персонализации за счет учета стоп-листа и любимых продуктов.

### **4. Технологический стек**

*   **Backend:** Kotlin, Spring Boot (Web, Security, Data JPA), Apache Kafka
*   **База данных:** PostgreSQL
*   **Web-интерфейс:** Thymeleaf, HTML/CSS/JS, Bootstrap
*   **Мобильное приложение (Android):** *Рассматривается как опциональное. На текущем этапе основное внимание уделяется backend и web-интерфейсу. Реализация на Android является логическим продолжением проекта.*
*   **Внешние API:** Сервисы для получения данных о продуктах по штрихкоду (например, Open Food Facts)
*   **AI-ассистент:** Интеграция с LLM (Large Language Model), например, через OpenAI API или локально развернутую модель, для создания чат-бота по вопросам питания.

### **5. Основная функциональность системы (Главные особенности)**

1.  **Умный дневник питания:**
    *   Внесение приемов пищи с подсчетом КБЖУ, витаминов и микроэлементов.
    *   Отслеживание веса и потребления жидкости.
    *   Визуализация прогресса относительно заданных норм.

2.  **Система рекомендаций:**
    *   **Сценарий 1:** Пользователь вводит норму по калориям и/или конкретному микроэлементу (например, "железо 18 мг"). Система рекомендует 7 продуктов, наиболее эффективных для восполнения дефицита, отсортированных по приоритету "ккал / мг микроэлемента".
    *   **Сценарий 2:** Пользователь задает полную дневную норму (КБЖУ + витамины + минералы). Система генерирует 7 вариантов наборов продуктов на день, которые максимально близко соответствуют этой норме.

3.  **Персонализация:**
    *   Возможность создать список "любимых продуктов" для их приоритета в рекомендациях.
    *   Создание "стоп-листа" (аллергены, непереносимости, нелюбимые продукты) для их полного исключения из рекомендаций.
    *   Возможность ручной замены любого продукта в сгенерированном наборе на альтернативный из той же категории.

4.  **Удобство ввода данных:**
    *   **Распознавание по штрихкоду:** Быстрое добавление продукта в дневник путем сканирования его штрихкода. Система автоматически заполнит его nutritional-данные из базы.

5.  **AI-ассистент:**
    *   Встроенный чат, где пользователь может задавать вопросы на тему питания ("Почему у меня может быть дефицит магния?", "Дай идеи для ужина с высоким содержанием белка", "Объси, что такое гликемический индекс").

### **6. Ожидаемые результаты**

По итогу работы будет разработано полнофункциональное web-приложение, включающее:
*   Backend-API на Spring Boot (Kotlin).
*   Базу данных с расширенной nutritional-информацией о продуктах.
*   Web-интерфейс для управления дневником и получения рекомендаций.
*   Реализованные core-алгоритмы рекомендаций.
*   Интеграцию с API для распознавания штрихкодов.
*   Прототип AI-ассистента.

### **7. План дальнейшей работы**

1.  Завершение разработки и отладки web-интерфейса.
2.  Углубленное тестирование алгоритмов рекомендаций на реальных данных.
3.  Доработка AI-ассистента (тонкая настройка контекста, предотвращение галлюцинаций).
4.  *Опционально:* Начало разработки мобильного клиента для Android.
5.  Подготовка полного текста пояснительной записки и презентации для защиты.

---

**Заключение:** Предлагаемое решение направлено на заполнение рыночной ниши интеллектуальных помощников для питания, которые работают не только с калориями, но и с полным спектром питательных веществ. Использование современных технологий, таких как Kotlin, Spring Boot и AI, позволяет создать мощный, производительный и удобный для пользователя продукт.
